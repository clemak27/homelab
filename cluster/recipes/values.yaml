---
# app-template:
#   image:
#     repository: docker.io/vabene1111/recipes
#     tag: 1.4.5

#   env:
#     TZ: Europe/Vienna
#     DB_ENGINE: "django.db.backends.postgresql"
#     SECRET_KEY: "${RECIPES_SECRET_KEY:?}"
#     POSTGRES_HOST: "recipes_db"
#     POSTGRES_PORT: "5432"
#     POSTGRES_USER: "${RECIPES_DB_USER:?}"
#     POSTGRES_PASSWORD: "${RECIPES_DB_PASSWORD:?}"
#     POSTGRES_DB: "${RECIPES_DB_NAME:?}"

#   service:
#     main:
#       type: ClusterIP
#       ports:
#         http:
#           port: 8080

#   ingress:
#     main:
#       enabled: true
#       ingressClassName: traefik
#       annotations:
#         ingress.kubernetes.io/ssl-redirect: "true"
#         traefik.ingress.kubernetes.io/router.entrypoints: websecure
#         cert-manager.io/cluster-issuer: letsencrypt-production
#       hosts:
#         - host: recipes.wallstreet30.cc
#           paths:
#             - path: /
#               pathType: Prefix
#       tls:
#         - hosts:
#             - recipes.wallstreet30.cc
#           secretName: recipes-tls

postgresql:
  image:
    repository: postgres
    tag: 15.1

  primary:
    podSecurityContext:
      enabled: false
      fsGroup: ""
    containerSecurityContext:
      enabled: false
      runAsUser: "auto"
    persistence:
      storageClass: longhorn

  readReplicas:
    podSecurityContext:
      enabled: false
      fsGroup: ""
    containerSecurityContext:
      enabled: false
      runAsUser: "auto"

  volumePermissions:
    enabled: false
    securityContext:
      runAsUser: "auto"
