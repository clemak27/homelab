---
name: lint
on:
  - pull_request
jobs:
  yamllint:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Yamllint
        uses: karancode/yamllint-github-action@master
  shellcheck:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: shellcheck
        uses: ludeeus/action-shellcheck@master
  hadolint:
    runs-on: ubuntu-latest
    env:
      HADOLINT_RECURSIVE: true
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Hadolint
        uses: hadolint/hadolint-action@v3.0.0
        with:
          dockerfile: Dockerfile
  homelab_bot:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Go setup
        uses: actions/setup-go@v3
        with:
          go-version: 1.19.1
      - name: Lint homelab_bot
        run: cd services/homelab_bot/src && make lint
